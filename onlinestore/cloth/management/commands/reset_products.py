from django.core.management.base import BaseCommand
from django.core.files import File
from django.conf import settings
from django.utils import timezone
from django.contrib.auth import get_user_model
from ...models import (
    Product, Category, Size, Color, Gender,
    ProductVariant, ProductImage, Role, OrderStatus,
    TransactionStatus, DeliveryMethod, Order, OrderItem,
    Cart, CartItem, Wishlist, Transaction
)
from decimal import Decimal
import os
import random
import re

User = get_user_model()

# –¢–∞–±–ª–∏—Ü–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
TRANSLIT_MAP = {
    '–∞': 'a', '–±': 'b', '–≤': 'v', '–≥': 'g', '–¥': 'd', '–µ': 'e', '—ë': 'yo',
    '–∂': 'zh', '–∑': 'z', '–∏': 'i', '–π': 'y', '–∫': 'k', '–ª': 'l', '–º': 'm',
    '–Ω': 'n', '–æ': 'o', '–ø': 'p', '—Ä': 'r', '—Å': 's', '—Ç': 't', '—É': 'u',
    '—Ñ': 'f', '—Ö': 'kh', '—Ü': 'ts', '—á': 'ch', '—à': 'sh', '—â': 'shch',
    '—ä': '', '—ã': 'y', '—å': '', '—ç': 'e', '—é': 'yu', '—è': 'ya',
}


def cyrillic_slugify(text):
    """–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug"""
    text = text.lower().strip()
    result = []
    for char in text:
        if char in TRANSLIT_MAP:
            result.append(TRANSLIT_MAP[char])
        elif char.isascii() and char.isalnum():
            result.append(char)
        elif char == ' ':
            result.append('-')
        else:
            result.append('')
    slug = ''.join(result)
    slug = re.sub(r'-+', '-', slug)
    slug = slug.strip('-')
    return slug


class Command(BaseCommand):
    help = '–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ (–ø–æ 2 –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é)'

    def add_arguments(self, parser):
        parser.add_argument(
            '--force',
            action='store_true',
            help='–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è',
        )

    def handle(self, *args, **options):
        self.stdout.write(self.style.WARNING('\n' + '=' * 60))
        self.stdout.write(self.style.WARNING('–°–û–ó–î–ê–ù–ò–ï –¢–û–í–ê–†–û–í –° –§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ú–ò –¶–í–ï–¢–ê–ú–ò'))
        self.stdout.write(self.style.WARNING('=' * 60 + '\n'))

        # –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        if not options['force']:
            confirm = input('–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã, –∑–∞–∫–∞–∑—ã –∏ –∫–æ—Ä–∑–∏–Ω—ã –±—É–¥—É—Ç –£–î–ê–õ–ï–ù–´! –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/N): ')
            if confirm.lower() != 'y':
                self.stdout.write(self.style.WARNING('–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞'))
                return

        # 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        self.init_base_data()

        # 2. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        self.delete_old_products()

        # 3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏
        self.create_new_products()

        # 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ slug'–æ–≤
        self.fix_all_slugs()

        self.stdout.write(self.style.SUCCESS('\n' + '=' * 60))
        self.stdout.write(self.style.SUCCESS('‚úÖ –ì–û–¢–û–í–û! –°–û–ó–î–ê–ù–û 2 –¢–û–í–ê–†–ê –ù–ê –ö–ê–¢–ï–ì–û–†–ò–Æ'))
        self.stdout.write(self.style.SUCCESS('=' * 60 + '\n'))

    def init_base_data(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã, —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞)"""
        self.stdout.write('\nüì¶ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö...')

        # –†–æ–ª–∏
        roles = ['user', 'moderator', 'admin']
        for role_name in roles:
            role, created = Role.objects.get_or_create(name=role_name)
            self.stdout.write(f'  {"‚úì" if not created else "+"} –†–æ–ª—å: {role_name}')

        # –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
        statuses = ['created', 'paid', 'shipped', 'delivered', 'cancelled']
        for status_name in statuses:
            status, created = OrderStatus.objects.get_or_create(name=status_name)
            self.stdout.write(f'  {"‚úì" if not created else "+"} –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞: {status_name}')

        # –°—Ç–∞—Ç—É—Å—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
        tx_statuses = ['pending', 'succeeded', 'failed', 'refunded']
        for status_name in tx_statuses:
            status, created = TransactionStatus.objects.get_or_create(name=status_name)
            self.stdout.write(f'  {"‚úì" if not created else "+"} –°—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: {status_name}')

        # –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏
        DeliveryMethod.objects.get_or_create(name='courier', defaults={'price': 300})
        DeliveryMethod.objects.get_or_create(name='pickup', defaults={'price': 0})
        self.stdout.write('  ‚úì –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏')

        # –ü–æ–ª
        genders = ['men', 'women', 'unisex', 'kids']
        for gender_name in genders:
            gender, created = Gender.objects.get_or_create(name=gender_name)
            self.stdout.write(f'  {"‚úì" if not created else "+"} –ü–æ–ª: {gender_name}')

        # –†–∞–∑–º–µ—Ä—ã (—Ç–æ–ª—å–∫–æ –±—É–∫–≤–µ–Ω–Ω—ã–µ)
        letter_sizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL']
        for i, size_name in enumerate(letter_sizes):
            size, created = Size.objects.get_or_create(
                name=size_name,
                defaults={'order': i}
            )
            self.stdout.write(f'  {"‚úì" if not created else "+"} –†–∞–∑–º–µ—Ä: {size_name}')

        # –¶–≤–µ—Ç–∞ - —Å–æ–∑–¥–∞–µ–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ü–≤–µ—Ç–∞
        colors_data = [
            {'name': '–ß–µ—Ä–Ω—ã–π', 'hex': '#000000'},
            {'name': '–ë–µ–ª—ã–π', 'hex': '#FFFFFF'},
            {'name': '–°–µ—Ä—ã–π', 'hex': '#808080'},
            {'name': '–ö—Ä–∞—Å–Ω—ã–π', 'hex': '#FF0000'},
            {'name': '–°–∏–Ω–∏–π', 'hex': '#0000FF'},
            {'name': '–ó–µ–ª–µ–Ω—ã–π', 'hex': '#008000'},
            {'name': '–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π', 'hex': '#8B4513'},
            {'name': '–ë–µ–∂–µ–≤—ã–π', 'hex': '#F5F5DC'},
        ]

        colors_dict = {}
        for color in colors_data:
            col, created = Color.objects.get_or_create(
                name=color['name'],
                defaults={'hex_code': color['hex']}
            )
            colors_dict[color['name']] = col
            self.stdout.write(f'  {"‚úì" if not created else "+"} –¶–≤–µ—Ç: {color["name"]}')

        # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
        categories = [
            {'name': '–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞', 'slug': 'outerwear'},
            {'name': '–ü–ª–∞—Ç—å—è', 'slug': 'dresses'},
            {'name': '–†—É–±–∞—à–∫–∏', 'slug': 'shirts'},
            {'name': '–ë—Ä—é–∫–∏', 'slug': 'pants'},
            {'name': '–Æ–±–∫–∏', 'slug': 'skirts'},
            {'name': '–î–∂–∏–Ω—Å—ã', 'slug': 'jeans'},
            {'name': '–§—É—Ç–±–æ–ª–∫–∏', 'slug': 't-shirts'},
            {'name': '–°–≤–∏—Ç–µ—Ä—ã', 'slug': 'sweaters'},
            {'name': '–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã', 'slug': 'accessories'},
        ]
        for cat in categories:
            category, created = Category.objects.get_or_create(
                slug=cat['slug'],
                defaults={'name': cat['name']}
            )
            self.stdout.write(f'  {"‚úì" if not created else "+"} –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {cat["name"]}')

        # –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        if not User.objects.filter(email='admin@clothstore.ru').exists():
            admin_role = Role.objects.get(name='admin')
            User.objects.create_superuser(
                email='admin@clothstore.ru',
                password='admin123',
                first_name='Admin',
                last_name='Admin'
            )
            self.stdout.write('  + –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin@clothstore.ru / admin123')

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ü–≤–µ—Ç–∞ –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ create_new_products
        self.colors = colors_dict

    def delete_old_products(self):
        """–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç–∞—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
        self.stdout.write('\nüóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...')

        # –£–¥–∞–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        transaction_count = Transaction.objects.count()
        Transaction.objects.all().delete()
        self.stdout.write(f'    –£–¥–∞–ª–µ–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {transaction_count}')

        # –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–æ–≤
        orderitem_count = OrderItem.objects.count()
        OrderItem.objects.all().delete()
        self.stdout.write(f'    –£–¥–∞–ª–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫–∞–∑–æ–≤: {orderitem_count}')

        # –£–¥–∞–ª—è–µ–º –∑–∞–∫–∞–∑—ã
        order_count = Order.objects.count()
        Order.objects.all().delete()
        self.stdout.write(f'    –£–¥–∞–ª–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤: {order_count}')

        # –£–¥–∞–ª—è–µ–º –∫–æ—Ä–∑–∏–Ω—ã
        cart_count = Cart.objects.count()
        Cart.objects.all().delete()
        self.stdout.write(f'    –£–¥–∞–ª–µ–Ω–æ –∫–æ—Ä–∑–∏–Ω: {cart_count}')

        # –£–¥–∞–ª—è–µ–º –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
        wishlist_count = Wishlist.objects.count()
        Wishlist.objects.all().delete()
        self.stdout.write(f'    –£–¥–∞–ª–µ–Ω–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ: {wishlist_count}')

        # –£–¥–∞–ª—è–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤
        variant_count = ProductVariant.objects.count()
        ProductVariant.objects.all().delete()
        self.stdout.write(f'  –£–¥–∞–ª–µ–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤: {variant_count}')

        # –£–¥–∞–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã
        product_count = Product.objects.count()
        Product.objects.all().delete()
        self.stdout.write(f'  –£–¥–∞–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: {product_count}')

        # –£–¥–∞–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ë–î
        image_count = ProductImage.objects.count()
        ProductImage.objects.all().delete()
        self.stdout.write(f'  –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {image_count}')

        # –£–¥–∞–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
        media_path = settings.MEDIA_ROOT / 'products'
        file_count = 0
        if media_path.exists():
            for file in media_path.glob('*'):
                if file.is_file() and file.name not in ['djins.png', 'futbolka.png']:
                    file.unlink()
                    file_count += 1
        self.stdout.write(f'  –£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {file_count}')

    def create_new_products(self):
        """–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏"""
        self.stdout.write('\n‚ú® –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏...')

        categories = Category.objects.all()
        sizes = Size.objects.all()

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        media_path = settings.MEDIA_ROOT / 'products'
        default_images = ['djins.png', 'futbolka.png']

        created_count = 0

        # –°–ª–æ–≤–∞—Ä—å —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
        product_colors = {
            # –Æ–±–∫–∏
            '–Æ–±–∫–∞ –ø–ª–∏—Å—Å–µ': '–°–∏–Ω–∏–π',
            '–Æ–±–∫–∞-–∫–∞—Ä–∞–Ω–¥–∞—à': '–°–µ—Ä—ã–π',

            # –§—É—Ç–±–æ–ª–∫–∏
            '–û–≤–µ—Ä—Å–∞–π–∑ —Ñ—É—Ç–±–æ–ª–∫–∞': '–ß–µ—Ä–Ω—ã–π',
            '–ë–∞–∑–æ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞': '–ó–µ–ª–µ–Ω—ã–π',

            # –°–≤–∏—Ç–µ—Ä—ã
            '–¢–æ–Ω–∫–∏–π –¥–∂–µ–º–ø–µ—Ä': '–ë–µ–ª—ã–π',
            '–í—è–∑–∞–Ω—ã–π —Å–≤–∏—Ç–µ—Ä': '–ß–µ—Ä–Ω—ã–π',

            # –†—É–±–∞—à–∫–∏
            '–õ—å–Ω—è–Ω–∞—è —Ä—É–±–∞—à–∫–∞': '–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π',
            '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä—É–±–∞—à–∫–∞': '–ö—Ä–∞—Å–Ω—ã–π',

            # –ü–ª–∞—Ç—å—è
            '–ü–ª–∞—Ç—å–µ-—Ä—É–±–∞—à–∫–∞': '–ë–µ–ª—ã–π',
            '–õ–µ—Ç–Ω–µ–µ –ø–ª–∞—Ç—å–µ': '–°–µ—Ä—ã–π',

            # –î–∂–∏–Ω—Å—ã
            '–î–∂–∏–Ω—Å—ã —Å –≤—ã—Å–æ–∫–æ–π —Ç–∞–ª–∏–µ–π': '–ß–µ—Ä–Ω—ã–π',
            '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –¥–∂–∏–Ω—Å—ã': '–ö—Ä–∞—Å–Ω—ã–π',

            # –í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞
            '–õ–µ–≥–∫–∞—è –≤–µ—Ç—Ä–æ–≤–∫–∞': '–ë–µ–ª—ã–π',
            '–î–∂–∏–Ω—Å–æ–≤–∞—è –∫—É—Ä—Ç–∫–∞': '–°–∏–Ω–∏–π',

            # –ë—Ä—é–∫–∏
            '–ß–∏–Ω–æ—Å—ã': '–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π',
            '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –±—Ä—é–∫–∏': '–ß–µ—Ä–Ω—ã–π',

            # –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã
            '–®–∞–ø–∫–∞': '–ë–µ–∂–µ–≤—ã–π',
        }

        # –®–∞–±–ª–æ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        product_templates = {
            'jeans': [
                {
                    'name': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –¥–∂–∏–Ω—Å—ã',
                    'price': 3990,
                    'image': 'djins.png',
                    'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –¥–∂–∏–Ω—Å—ã –ø—Ä—è–º–æ–≥–æ –∫—Ä–æ—è –∏–∑ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –¥–µ–Ω–∏–º–∞. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏. –ú–∞—Ç–µ—Ä–∏–∞–ª: 98% —Ö–ª–æ–ø–æ–∫, 2% —ç–ª–∞—Å—Ç–∞–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–º—Ñ–æ—Ä—Ç –∏ —Å–≤–æ–±–æ–¥—É –¥–≤–∏–∂–µ–Ω–∏–π. –£—Å–∏–ª–µ–Ω–Ω—ã–µ —à–≤—ã –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å.',
                    'material': '98% —Ö–ª–æ–ø–æ–∫, 2% —ç–ª–∞—Å—Ç–∞–Ω'
                },
                {
                    'name': '–î–∂–∏–Ω—Å—ã —Å –≤—ã—Å–æ–∫–æ–π —Ç–∞–ª–∏–µ–π',
                    'price': 4590,
                    'image': 'djins.png',
                    'description': '–ú–æ–¥–Ω—ã–µ –¥–∂–∏–Ω—Å—ã —Å –≤—ã—Å–æ–∫–æ–π —Ç–∞–ª–∏–µ–π, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—é—â–∏–µ —Ñ–∏–≥—É—Ä—É. –≠–ª–∞—Å—Ç–∏—á–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω—É—é –ø–æ—Å–∞–¥–∫—É –∏ –∫–æ–º—Ñ–æ—Ä—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –¥–Ω—è. –ó–∞–≤—ã—à–µ–Ω–Ω–∞—è —Ç–∞–ª–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ —É–¥–ª–∏–Ω—è–µ—Ç –Ω–æ–≥–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç —Å—Ç–∏–ª—å–Ω—ã–π —Å–∏–ª—É—ç—Ç.',
                    'material': '98% —Ö–ª–æ–ø–æ–∫, 2% —ç–ª–∞—Å—Ç–∞–Ω'
                },
            ],
            't-shirts': [
                {
                    'name': '–ë–∞–∑–æ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞',
                    'price': 1490,
                    'image': 'futbolka.png',
                    'description': '–ë–∞–∑–æ–≤–∞—è —Ö–ª–æ–ø–∫–æ–≤–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ - must-have –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–µ. –ú—è–≥–∫–∞—è, –¥—ã—à–∞—â–∞—è, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–æ–π, —É–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —à–≤—ã, –Ω–µ —Ç–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ —Å—Ç–∏—Ä–∫–∏. –°–æ—Å—Ç–∞–≤: 100% —Ö–ª–æ–ø–æ–∫ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.',
                    'material': '100% —Ö–ª–æ–ø–æ–∫'
                },
                {
                    'name': '–û–≤–µ—Ä—Å–∞–π–∑ —Ñ—É—Ç–±–æ–ª–∫–∞',
                    'price': 1890,
                    'image': 'futbolka.png',
                    'description': '–ú–æ–¥–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∫—Ä–æ—è –æ–≤–µ—Ä—Å–∞–π–∑. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∏–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ - –º–æ–∂–Ω–æ –Ω–æ—Å–∏—Ç—å —Å –ª–µ–≥–≥–∏–Ω—Å–∞–º–∏, –¥–∂–∏–Ω—Å–∞–º–∏ –∏–ª–∏ —à–æ—Ä—Ç–∞–º–∏. –ú—è–≥–∫–∏–π —Ö–ª–æ–ø–æ–∫ –ø—Ä–∏—è—Ç–µ–Ω –∫ —Ç–µ–ª—É, —Å–≤–æ–±–æ–¥–Ω—ã–π –∫—Ä–æ–π –Ω–µ —Å–∫–æ–≤—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è.',
                    'material': '100% —Ö–ª–æ–ø–æ–∫'
                },
            ],
            'dresses': [
                {
                    'name': '–õ–µ—Ç–Ω–µ–µ –ø–ª–∞—Ç—å–µ',
                    'price': 3500,
                    'image': 'futbolka.png',
                    'description': '–õ–µ–≥–∫–æ–µ –ª–µ—Ç–Ω–µ–µ –ø–ª–∞—Ç—å–µ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–π –≤–∏—Å–∫–æ–∑—ã. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∂–∞—Ä–∫–æ–π –ø–æ–≥–æ–¥—ã - –º–∞—Ç–µ—Ä–∏–∞–ª –¥—ã—à–∏—Ç –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏—è. –°–≤–æ–±–æ–¥–Ω—ã–π –∫—Ä–æ–π, –ø—Ä–∏—è—Ç–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞, –∫—Ä–∞—Å–∏–≤–æ –¥—Ä–∞–ø–∏—Ä—É–µ—Ç—Å—è. –î–ª–∏–Ω–∞ –º–∏–¥–∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª—é–±–æ–≥–æ —Å–ª—É—á–∞—è.',
                    'material': '100% –≤–∏—Å–∫–æ–∑–∞'
                },
                {
                    'name': '–ü–ª–∞—Ç—å–µ-—Ä—É–±–∞—à–∫–∞',
                    'price': 4200,
                    'image': 'futbolka.png',
                    'description': '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ-—Ä—É–±–∞—à–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ñ–∏—Å–∞, –ø—Ä–æ–≥—É–ª–æ–∫ –∏ –≤—Å—Ç—Ä–µ—á —Å –¥—Ä—É–∑—å—è–º–∏. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–æ—Ä–æ—Ç–Ω–∏–∫, —É–¥–æ–±–Ω—ã–µ –º–∞–Ω–∂–µ—Ç—ã, –ø–æ—è—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç —Ç–∞–ª–∏—é. –ú–æ–∂–Ω–æ –Ω–æ—Å–∏—Ç—å –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—É—é –≤–µ—â—å –∏–ª–∏ –∫–∞–∫ –ª–µ–≥–∫–æ–µ –ø–∞–ª—å—Ç–æ.',
                    'material': '100% —Ö–ª–æ–ø–æ–∫'
                },
            ],
            'outerwear': [
                {
                    'name': '–î–∂–∏–Ω—Å–æ–≤–∞—è –∫—É—Ä—Ç–∫–∞',
                    'price': 6500,
                    'image': 'djins.png',
                    'description': '–°—Ç–∏–ª—å–Ω–∞—è –¥–∂–∏–Ω—Å–æ–≤–∞—è –∫—É—Ä—Ç–∫–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—è. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–µ–∂—Å–µ–∑–æ–Ω—å—è - –º–æ–∂–Ω–æ –Ω–æ—Å–∏—Ç—å —Å —Ñ—É—Ç–±–æ–ª–∫–∞–º–∏, –ø–ª–∞—Ç—å—è–º–∏, —Å–≤–∏—Ç–µ—Ä–∞–º–∏. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–∏–Ω–∏–π —Ü–≤–µ—Ç, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –ø—É–≥–æ–≤–∏—Ü—ã, –Ω–∞–∫–ª–∞–¥–Ω—ã–µ –∫–∞—Ä–º–∞–Ω—ã. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ª—É—á—à–µ.',
                    'material': '100% —Ö–ª–æ–ø–æ–∫ –¥–µ–Ω–∏–º'
                },
                {
                    'name': '–õ–µ–≥–∫–∞—è –≤–µ—Ç—Ä–æ–≤–∫–∞',
                    'price': 5200,
                    'image': 'futbolka.png',
                    'description': '–õ–µ–≥–∫–∞—è –Ω–µ–ø—Ä–æ–¥—É–≤–∞–µ–º–∞—è –≤–µ—Ç—Ä–æ–≤–∫–∞ –¥–ª—è –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã. –ö–æ–º–ø–∞–∫—Ç–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ —Å—É–º–∫–µ. –í–æ–¥–æ–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—â–∞—è –ø—Ä–æ–ø–∏—Ç–∫–∞ –∑–∞—â–∏—Ç–∏—Ç –æ—Ç –ª–µ–≥–∫–æ–≥–æ –¥–æ–∂–¥—è. –†–µ–≥—É–ª–∏—Ä—É–µ–º—ã–π –∫–∞–ø—é—à–æ–Ω –∏ –º–∞–Ω–∂–µ—Ç—ã.',
                    'material': '100% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä'
                },
            ],
            'sweaters': [
                {
                    'name': '–í—è–∑–∞–Ω—ã–π —Å–≤–∏—Ç–µ—Ä',
                    'price': 5500,
                    'image': 'futbolka.png',
                    'description': '–¢–µ–ø–ª—ã–π –≤—è–∑–∞–Ω—ã–π —Å–≤–∏—Ç–µ—Ä –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã. –ú—è–≥–∫–∏–π –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π, –Ω–µ –∫–æ–ª–µ—Ç—Å—è –∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏—è. –ö—Ä—É–ø–Ω–∞—è –≤—è–∑–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç–∏–ª—å–Ω–æ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –í—ã—Å–æ–∫–∏–π –≤–æ—Ä–æ—Ç–Ω–∏–∫ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –≤–µ—Ç—Ä–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏.',
                    'material': '50% —à–µ—Ä—Å—Ç—å, 50% –∞–∫—Ä–∏–ª'
                },
                {
                    'name': '–¢–æ–Ω–∫–∏–π –¥–∂–µ–º–ø–µ—Ä',
                    'price': 3800,
                    'image': 'futbolka.png',
                    'description': '–õ–µ–≥–∫–∏–π –¥–∂–µ–º–ø–µ—Ä –∏–∑ –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–π —à–µ—Ä—Å—Ç–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ñ–∏—Å–∞ –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏. –¢–æ–Ω–∫–∞—è –≤—è–∑–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–æ—Å–∏—Ç—å –µ–≥–æ –ø–æ–¥ –ø–∏–¥–∂–∞–∫ –∏–ª–∏ –ø–∞–ª—å—Ç–æ. –ú—è–≥–∫–∏–π, –ø—Ä–∏—è—Ç–Ω—ã–π –Ω–∞ –æ—â—É–ø—å, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–ø–ª–æ –¥–∞–∂–µ –≤ —Ö–æ–ª–æ–¥–Ω—É—é –ø–æ–≥–æ–¥—É.',
                    'material': '100% –º–µ—Ä–∏–Ω–æ—Å–æ–≤–∞—è —à–µ—Ä—Å—Ç—å'
                },
            ],
            'shirts': [
                {
                    'name': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä—É–±–∞—à–∫–∞',
                    'price': 3500,
                    'image': 'futbolka.png',
                    'description': '–≠–ª–µ–≥–∞–Ω—Ç–Ω–∞—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä—É–±–∞—à–∫–∞ –¥–ª—è –æ—Ñ–∏—Å–∞ –∏ –¥–µ–ª–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á. –ò–¥–µ–∞–ª—å–Ω–æ —Å–∏–¥–∏—Ç –ø–æ —Ñ–∏–≥—É—Ä–µ, –Ω–µ –º–Ω–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É —Ö–ª–æ–ø–∫—É. –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–æ–≥–æ–≥–æ –æ–±—Ä–∞–∑–∞.',
                    'material': '100% —Ö–ª–æ–ø–æ–∫'
                },
                {
                    'name': '–õ—å–Ω—è–Ω–∞—è —Ä—É–±–∞—à–∫–∞',
                    'price': 4200,
                    'image': 'futbolka.png',
                    'description': '–õ–µ–≥–∫–∞—è –ª–µ—Ç–Ω—è—è —Ä—É–±–∞—à–∫–∞ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –ª—å–Ω–∞. –û—Ç–ª–∏—á–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤–æ–∑–¥—É—Ö –∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä–µ–≤–∞–µ—Ç—Å—è –≤ –∂–∞—Ä—É. –°–≤–æ–±–æ–¥–Ω—ã–π –∫—Ä–æ–π –Ω–µ —Å–∫–æ–≤—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –º—è–≥—á–µ –∏ –ø—Ä–∏—è—Ç–Ω–µ–µ –∫ —Ç–µ–ª—É.',
                    'material': '100% –ª–µ–Ω'
                },
            ],
            'pants': [
                {
                    'name': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –±—Ä—é–∫–∏',
                    'price': 4800,
                    'image': 'djins.png',
                    'description': '–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ –±—Ä—é–∫–∏ –¥–ª—è –æ—Ñ–∏—Å–∞. –ù–µ –º–Ω—É—Ç—Å—è, —Ö–æ—Ä–æ—à–æ –¥–µ—Ä–∂–∞—Ç —Ñ–æ—Ä–º—É –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –º–∞—Ç–µ—Ä–∏–∞–ª—É. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–æ–π, —Å—Ç—Ä–µ–ª–∫–∏, –∑–∞—Å—Ç–µ–∂–∫–∞ –Ω–∞ –º–æ–ª–Ω–∏—é –∏ –ø—É–≥–æ–≤–∏—Ü—É. –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ª–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞.',
                    'material': '70% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä, 30% –≤–∏—Å–∫–æ–∑–∞'
                },
                {
                    'name': '–ß–∏–Ω–æ—Å—ã',
                    'price': 3900,
                    'image': 'djins.png',
                    'description': '–£–¥–æ–±–Ω—ã–µ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ —á–∏–Ω–æ—Å—ã —Å —ç–ª–∞—Å—Ç–∞–Ω–æ–º –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–∞. –ú—è–≥–∫–∏–µ, –ø—Ä–∏—è—Ç–Ω—ã–µ –Ω–∞ –æ—â—É–ø—å, –Ω–µ —Å–∫–æ–≤—ã–≤–∞—é—Ç –¥–≤–∏–∂–µ–Ω–∏—è. –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫, –≤—Å—Ç—Ä–µ—á —Å –¥—Ä—É–∑—å—è–º–∏, –ø–æ–µ–∑–¥–æ–∫. –°–æ—á–µ—Ç–∞—é—Ç—Å—è —Å —Ñ—É—Ç–±–æ–ª–∫–∞–º–∏, —Ä—É–±–∞—à–∫–∞–º–∏, —Å–≤–∏—Ç–µ—Ä–∞–º–∏.',
                    'material': '98% —Ö–ª–æ–ø–æ–∫, 2% —ç–ª–∞—Å—Ç–∞–Ω'
                },
            ],
            'skirts': [
                {
                    'name': '–Æ–±–∫–∞-–∫–∞—Ä–∞–Ω–¥–∞—à',
                    'price': 3200,
                    'image': 'futbolka.png',
                    'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —é–±–∫–∞-–∫–∞—Ä–∞–Ω–¥–∞—à –¥–ª—è –æ—Ñ–∏—Å–∞. –°—Ç—Ä–æ–≥–∏–π –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Å–∏–ª—É—ç—Ç –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç —Ñ–∏–≥—É—Ä—É. –î–ª–∏–Ω–∞ –¥–æ –∫–æ–ª–µ–Ω–∞, —Ä–∞–∑—Ä–µ–∑ —Å–∑–∞–¥–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞. –°–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –±–ª—É–∑–∞–º–∏, —Ä—É–±–∞—à–∫–∞–º–∏ –∏ —Ç–æ–Ω–∫–∏–º–∏ —Å–≤–∏—Ç–µ—Ä–∞–º–∏.',
                    'material': '70% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä, 30% –≤–∏—Å–∫–æ–∑–∞'
                },
                {
                    'name': '–Æ–±–∫–∞ –ø–ª–∏—Å—Å–µ',
                    'price': 2800,
                    'image': 'futbolka.png',
                    'description': '–ú–æ–¥–Ω–∞—è —é–±–∫–∞ –ø–ª–∏—Å—Å–µ. –õ–µ–≥–∫–∞—è –∏ –≤–æ–∑–¥—É—à–Ω–∞—è, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏ –∏ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤. –ú—è–≥–∫–∏–µ —Å–∫–ª–∞–¥–∫–∏ –∫—Ä–∞—Å–∏–≤–æ –¥–≤–∏–≥–∞—é—Ç—Å—è –ø—Ä–∏ —Ö–æ–¥—å–±–µ. –î–ª–∏–Ω–∞ –º–∏–¥–∏, –Ω–∞ –ø–æ—è—Å–µ —Ä–µ–∑–∏–Ω–∫–∞ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –ø–æ—Å–∞–¥–∫–∏.',
                    'material': '100% –ø–æ–ª–∏—ç—Å—Ç–µ—Ä'
                },
            ],
            'accessories': [
                {
                    'name': '–®–∞—Ä—Ñ',
                    'price': 1200,
                    'image': 'futbolka.png',
                    'description': '–¢–µ–ø–ª—ã–π —É—é—Ç–Ω—ã–π —à–∞—Ä—Ñ –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã. –ú—è–≥–∫–∏–π –∏ –ø—Ä–∏—è—Ç–Ω—ã–π –Ω–∞ –æ—â—É–ø—å, –Ω–µ –∫–æ–ª–µ—Ç—Å—è. –î–ª–∏–Ω–Ω—ã–π, –º–æ–∂–Ω–æ –Ω–æ—Å–∏—Ç—å —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –∫ –ª—é–±–æ–º—É –≤–µ—Ä—Ö–Ω–µ–π –æ–¥–µ–∂–¥–µ - –ø–∞–ª—å—Ç–æ, –ø—É—Ö–æ–≤–∏–∫—É, –∫—É—Ä—Ç–∫–µ.',
                    'material': '100% –∞–∫—Ä–∏–ª'
                },
                {
                    'name': '–®–∞–ø–∫–∞',
                    'price': 1500,
                    'image': 'futbolka.png',
                    'description': '–°—Ç–∏–ª—å–Ω–∞—è –≤—è–∑–∞–Ω–∞—è —à–∞–ø–∫–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞ - —Ö–æ—Ä–æ—à–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–ø–ª–æ. –ú—è–≥–∫–∞—è, –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è, –¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º—É. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –º—É–∂—á–∏–Ω–∞–º, —Ç–∞–∫ –∏ –∂–µ–Ω—â–∏–Ω–∞–º.',
                    'material': '100% –∞–∫—Ä–∏–ª'
                },
            ],
        }

        for category in categories:
            self.stdout.write(f'\nüìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category.name}')

            if category.slug in product_templates:
                templates = product_templates[category.slug]
            else:
                # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
                templates = [
                    {
                        'name': f'{category.name} (–±–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å)',
                        'price': 3000,
                        'image': random.choice(default_images),
                        'description': f'–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–¥–µ–ª–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ {category.name}. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Å–∫–∏. –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –ø—Ä–∏—è—Ç–Ω—ã—Ö –Ω–∞ –æ—â—É–ø—å. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–æ–π, —É–¥–æ–±–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞, –Ω–µ —Ç–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ —Å—Ç–∏—Ä–∫–∏.',
                        'material': '–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã'
                    },
                    {
                        'name': f'{category.name} (–ø—Ä–µ–º–∏—É–º)',
                        'price': 4500,
                        'image': random.choice(default_images),
                        'description': f'–ü—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –∏–∑–¥–µ–ª–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ {category.name}. –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Å—Ç–∏–ª—å. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ª—É—á—à–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞. –£—Å–∏–ª–µ–Ω–Ω—ã–µ —à–≤—ã, –∏–¥–µ–∞–ª—å–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞ –ø–æ —Ñ–∏–≥—É—Ä–µ, –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å.',
                        'material': '–ü—Ä–µ–º–∏—É–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã'
                    },
                ]

            for template in templates:
                # –ü–æ–ª—É—á–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç –∏–∑ —Å–ª–æ–≤–∞—Ä—è –∏–ª–∏ –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π
                color_name = product_colors.get(template['name'])

                if not color_name:
                    # –ï—Å–ª–∏ —Ü–≤–µ—Ç –Ω–µ —É–∫–∞–∑–∞–Ω, –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π
                    color_name = random.choice(
                        ['–ß–µ—Ä–Ω—ã–π', '–ë–µ–ª—ã–π', '–°–µ—Ä—ã–π', '–ö—Ä–∞—Å–Ω—ã–π', '–°–∏–Ω–∏–π', '–ó–µ–ª–µ–Ω—ã–π', '–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π', '–ë–µ–∂–µ–≤—ã–π'])

                color = Color.objects.get(name=color_name)
                product_name = template['name']

                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π —Ç–æ–≤–∞—Ä
                if Product.objects.filter(name=product_name, category=category).exists():
                    self.stdout.write(f'  - –ü—Ä–æ–ø—É—Å–∫–∞–µ–º (—É–∂–µ –µ—Å—Ç—å): {product_name}')
                    continue

                try:
                    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π slug
                    base_slug = cyrillic_slugify(product_name)
                    base_slug = base_slug.replace(' ', '-')
                    base_slug = re.sub(r'-+', '-', base_slug)

                    slug = base_slug
                    counter = 1
                    while Product.objects.filter(slug=slug).exists():
                        slug = f'{base_slug}-{counter}'
                        counter += 1

                    # –°–æ–∑–¥–∞–µ–º —Ç–æ–≤–∞—Ä
                    product = Product.objects.create(
                        category=category,
                        name=product_name,
                        slug=slug,
                        description=template['description'],
                        price=Decimal(template['price']),
                        material=template['material'],
                        care_instructions='–°—Ç–∏—Ä–∫–∞ –ø—Ä–∏ 30¬∞C, –Ω–µ –æ—Ç–±–µ–ª–∏–≤–∞—Ç—å, –≥–ª–∞–¥–∏—Ç—å –ø—Ä–∏ —Å—Ä–µ–¥–Ω–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ',
                        is_active=True,
                        is_new=True,
                    )

                    # –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
                    image_path = media_path / template['image']
                    if image_path.exists():
                        with open(image_path, 'rb') as f:
                            ProductImage.objects.create(
                                product=product,
                                image=File(f, name=template['image']),
                                is_main=True
                            )

                    # –°–æ–∑–¥–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º
                    variant_count = 0
                    for size in sizes:
                        # –°–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ
                        stock = random.randint(5, 20)

                        # –ù–µ–±–æ–ª—å—à–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è —Ü–µ–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞
                        price_variation = Decimal(random.randint(-200, 300))
                        variant_price = Decimal(template['price']) + price_variation

                        ProductVariant.objects.create(
                            product=product,
                            size=size,
                            color=color,
                            price=max(Decimal('100'), round(variant_price, -1)),
                            stock_quantity=stock
                        )
                        variant_count += 1

                    created_count += 1
                    self.stdout.write(self.style.SUCCESS(
                        f'  ‚úì {product_name} (—Ü–≤–µ—Ç: {color_name}) - {variant_count} —Ä–∞–∑–º–µ—Ä–æ–≤'))

                except Exception as e:
                    self.stdout.write(self.style.ERROR(f'  ‚úó –û—à–∏–±–∫–∞: {product_name} - {str(e)}'))

        self.stdout.write(self.style.SUCCESS(f'\n‚úÖ –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: {created_count}'))

    def fix_all_slugs(self):
        """–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö slug'–æ–≤"""
        self.stdout.write('\nüîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ slug\'–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤...')

        fixed_count = 0
        for product in Product.objects.all():
            old_slug = product.slug
            new_slug = old_slug.replace(' ', '-')
            new_slug = re.sub(r'[^a-zA-Z0-9_-]', '', new_slug)
            new_slug = re.sub(r'-+', '-', new_slug)
            new_slug = new_slug.strip('-')

            if not new_slug:
                new_slug = cyrillic_slugify(product.name)

            if new_slug != old_slug:
                base_slug = new_slug
                counter = 1
                while Product.objects.filter(slug=new_slug).exclude(id=product.id).exists():
                    new_slug = f"{base_slug}-{counter}"
                    counter += 1

                product.slug = new_slug
                product.save()
                self.stdout.write(f'  {old_slug} -> {new_slug}')
                fixed_count += 1

        if fixed_count:
            self.stdout.write(self.style.SUCCESS(f'  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ slug\'–æ–≤: {fixed_count}'))
        else:
            self.stdout.write('  –í—Å–µ slug\'–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã')